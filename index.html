<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comunicazione a 4 Tempi â€” Il Gioco</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --c1:#D4870E;--c2:#1B7F8F;--c3:#3D7B3F;--c4:#C0392B;
  --c1-bg:#FFF8EC;--c2-bg:#EEF8F9;--c3-bg:#EFF6EF;--c4-bg:#FDF0EF;
  --c1-border:#F0D8A8;--c2-border:#A8D8DC;--c3-border:#B0D4B0;--c4-border:#E8B4AE;
  --bg:#F6F3EE;--card:#fff;--ink:#1E1E1E;--muted:#7A7A7A;--border:#E2DED6;
  --ok:#2E8B57;--err:#C0392B;
  --r:10px;
  --font-display:'Playfair Display',Georgia,serif;
  --font-body:'Source Sans 3','Source Sans Pro',system-ui,sans-serif;
}
html{font-size:15px}
body{font-family:var(--font-body);background:var(--bg);color:var(--ink);min-height:100vh}

/* â”€â”€ TOPBAR â”€â”€ */
.topbar{
  background:var(--card);border-bottom:1px solid var(--border);
  padding:14px 24px 10px;text-align:center;
  position:sticky;top:0;z-index:100;
}
.topbar h1{font-family:var(--font-display);font-size:1.35rem;letter-spacing:-0.3px;margin-bottom:2px}
.topbar .sub{font-size:.78rem;color:var(--muted);margin-bottom:10px}
.levels{display:flex;justify-content:center;gap:5px;flex-wrap:wrap}
.lvl{
  padding:5px 13px;border:1.5px solid var(--border);border-radius:20px;
  background:var(--card);font:600 .73rem var(--font-body);
  color:var(--muted);cursor:pointer;transition:.2s;user-select:none;
}
.lvl:hover{border-color:var(--c2);color:var(--c2)}
.lvl.on{background:var(--ink);color:#fff;border-color:var(--ink)}
.lvl .ck{color:var(--ok);margin-left:3px}
.meta{font-size:.72rem;color:var(--muted);margin-top:6px}
.meta b{color:var(--ink);font-weight:700}

/* â”€â”€ MAIN â”€â”€ */
.main{max-width:1100px;margin:0 auto;padding:12px 20px 24px}
.hint{
  background:var(--c2-bg);border-left:3px solid var(--c2);
  border-radius:var(--r);padding:10px 16px;margin-bottom:14px;
  font-size:.84rem;line-height:1.45;
}
.hint strong{color:var(--c2)}

/* â”€â”€ DROP ZONE shared â”€â”€ */
.dz{
  background:var(--card);border:2px dashed var(--border);border-radius:var(--r);
  padding:12px 14px;transition:.2s;position:relative;
}
.dz.over{border-style:solid;transform:scale(1.015)}
.dz-head{
  display:flex;align-items:center;gap:7px;
  margin-bottom:8px;padding-bottom:6px;
  border-bottom:1.5px solid #f0ede8;
}
.dz-num{
  width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font:700 .72rem var(--font-body);color:#fff;flex-shrink:0;
}
.dz-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.dz-label{font-family:var(--font-display);font-size:.95rem;font-weight:700}
.dz-items{display:flex;flex-wrap:wrap;gap:5px;min-height:28px}

/* zone color variants */
.dz-1{border-color:var(--c1-border);background:var(--c1-bg)}
.dz-1 .dz-num,.dz-1 .dz-dot{background:var(--c1)}
.dz-1 .dz-label{color:var(--c1)}
.dz-1.over{border-color:var(--c1);box-shadow:0 0 0 3px var(--c1-bg)}

.dz-2{border-color:var(--c2-border);background:var(--c2-bg)}
.dz-2 .dz-num,.dz-2 .dz-dot{background:var(--c2)}
.dz-2 .dz-label{color:var(--c2)}
.dz-2.over{border-color:var(--c2);box-shadow:0 0 0 3px var(--c2-bg)}

.dz-3{border-color:var(--c3-border);background:var(--c3-bg)}
.dz-3 .dz-num,.dz-3 .dz-dot{background:var(--c3)}
.dz-3 .dz-label{color:var(--c3)}
.dz-3.over{border-color:var(--c3);box-shadow:0 0 0 3px var(--c3-bg)}

.dz-4{border-color:var(--c4-border);background:var(--c4-bg)}
.dz-4 .dz-num,.dz-4 .dz-dot{background:var(--c4)}
.dz-4 .dz-label{color:var(--c4)}
.dz-4.over{border-color:var(--c4);box-shadow:0 0 0 3px var(--c4-bg)}

/* â”€â”€ COMPASS LAYOUT â”€â”€ */
.compass{
  display:grid;
  grid-template-columns:1.1fr auto 1.1fr;
  grid-template-rows:auto auto auto;
  grid-template-areas:"_ top _2" "left hub right" "_3 bot _4";
  gap:10px;margin-bottom:14px;
  justify-items:stretch;align-items:center;
}
.compass-top{grid-area:top}
.compass-right{grid-area:right}
.compass-bot{grid-area:bot}
.compass-left{grid-area:left}
.compass-hub{
  grid-area:hub;
  width:140px;height:140px;margin:0 auto;
  border-radius:50%;
  background:radial-gradient(circle,#faf8f4,#ede9e0);
  border:2px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  position:relative;
}
.compass-hub::before,.compass-hub::after{content:'';position:absolute;background:#ccc8be}
.compass-hub::before{width:1px;height:70%;top:15%;left:50%}
.compass-hub::after{height:1px;width:70%;left:15%;top:50%}
.hub-t{position:absolute;font:700 .6rem var(--font-body);text-transform:uppercase;letter-spacing:.5px}
.hub-n{top:14px;color:var(--c1)}
.hub-s{bottom:14px;color:var(--c3)}
.hub-w{left:10px;color:var(--c4)}
.hub-e{right:10px;color:var(--c2)}

/* Frecce circolari decorative */
.hub-arrow{
  position:absolute;font-size:.85rem;color:#bbb;
}
.hub-a1{top:6px;right:20px;transform:rotate(45deg)}
.hub-a2{bottom:6px;left:20px;transform:rotate(-135deg)}

@media(max-width:720px){
  .compass{grid-template-columns:1fr;grid-template-areas:"top""right""bot""left";gap:10px}
  .compass-hub{display:none}
}

/* â”€â”€ GRID 2Ã—2 LAYOUT â”€â”€ */
.grid4{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px}
@media(max-width:600px){.grid4{grid-template-columns:1fr}}

/* â”€â”€ WORD BANK â”€â”€ */
.bank{
  background:var(--card);border:1.5px solid var(--border);
  border-radius:var(--r);padding:14px 16px;
}
.bank-label{font:700 .68rem var(--font-body);text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px}
.bank-items{display:flex;flex-wrap:wrap;gap:7px}

/* â”€â”€ DRAG ITEM â”€â”€ */
.chip{
  padding:6px 13px;background:#F5F2EC;border:1.5px solid #d8d4cc;border-radius:7px;
  font:500 .8rem var(--font-body);color:var(--ink);
  cursor:grab;user-select:none;transition:.15s;touch-action:none;
  line-height:1.3;
}
.chip:hover{border-color:#b0aca4;box-shadow:0 3px 10px rgba(0,0,0,.08);transform:translateY(-1px)}
.chip.dragging{opacity:.35;cursor:grabbing}
.chip.ok{background:#e3f3ea;border-color:var(--ok);color:var(--ok);cursor:default;font-weight:600}
.chip.err{background:#fde8e8;border-color:var(--err);color:var(--err);animation:shake .35s}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}

/* â”€â”€ BUTTONS â”€â”€ */
.btns{display:flex;justify-content:center;gap:10px;margin-top:16px}
.bt{
  padding:10px 28px;border:none;border-radius:24px;
  font:700 .88rem var(--font-body);cursor:pointer;transition:.2s;user-select:none;
}
.bt-go{background:var(--ink);color:#fff}
.bt-go:hover{background:#333;transform:translateY(-1px)}
.bt-rs{background:transparent;color:var(--muted);border:1.5px solid var(--border)}
.bt-rs:hover{border-color:#bbb;color:var(--ink)}

/* â”€â”€ FEEDBACK â”€â”€ */
.fb{text-align:center;margin-top:12px;padding:11px;border-radius:var(--r);font-weight:600;font-size:.88rem;display:none}
.fb.show{display:block}
.fb.win{background:#e3f3ea;color:var(--ok)}
.fb.try{background:#fff6e5;color:#b8650a}

/* â”€â”€ GHOST (touch) â”€â”€ */
.ghost{position:fixed;pointer-events:none;z-index:9999;opacity:.92;transform:scale(1.06)}
</style>
</head>
<body>

<div class="topbar">
  <h1>Comunicazione a 4 Tempi</h1>
  <p class="sub">Trascina ogni parola nella categoria corretta</p>
  <div class="levels" id="levelBar"></div>
  <div class="meta">
    Punteggio <b id="sc">0</b>/<b id="tot">0</b>
    &middot; Completati <b id="lc">0</b>/<b id="lt">0</b>
  </div>
</div>

<div class="main" id="app"></div>

<script>
const L=[
  {
    id:'tempi',t:'1. I 4 Tempi',lay:'compass',
    hint:'Associa ogni descrizione al <strong>tempo comunicativo</strong> corretto. I 4 tempi seguono il percorso circolare del modello.',
    zones:[
      {id:'apertura',label:'Apertura e Connessione',c:'dz-1',num:'1',pos:'top'},
      {id:'bisogni',label:'Condivisione dei Bisogni',c:'dz-2',num:'2',pos:'right'},
      {id:'argomentazioni',label:'Argomentazioni e Concetti',c:'dz-3',num:'3',pos:'bot'},
      {id:'chiusura',label:'Chiusura e Spinta all\'Azione',c:'dz-4',num:'4',pos:'left'}
    ],
    items:[
      {t:'Creare un ponte con l\'altro',z:'apertura'},
      {t:'Parlare la sua lingua',z:'apertura'},
      {t:'Prima la relazione',z:'apertura'},
      {t:'Richiesta â‰  Bisogno',z:'bisogni'},
      {t:'Le domande che aprono',z:'bisogni'},
      {t:'"Cosa la preoccupa?"',z:'bisogni'},
      {t:'La regola dei 3',z:'argomentazioni'},
      {t:'Sicurezza, Efficacia, Risparmio',z:'argomentazioni'},
      {t:'Il cliente ricorda max 3 messaggi',z:'argomentazioni'},
      {t:'Accompagnare la decisione',z:'chiusura'},
      {t:'"Vuole provare e poi ne riparliamo?"',z:'chiusura'},
      {t:'Non forzare ma guidare',z:'chiusura'}
    ]
  },
  {
    id:'stili',t:'2. I 4 Stili',lay:'grid',
    hint:'Associa ogni caratteristica allo <strong>stile comunicativo</strong> corretto secondo il modello Kolb / Social Style.',
    zones:[
      {id:'adattivo',label:'Adattivo (Accomodatore)',c:'dz-1'},
      {id:'divergente',label:'Divergente',c:'dz-2'},
      {id:'assimilativo',label:'Assimilativo',c:'dz-3'},
      {id:'convergente',label:'Convergente',c:'dz-4'}
    ],
    items:[
      {t:'Cerca riconoscimento',z:'adattivo'},
      {t:'Ama divertirsi',z:'adattivo'},
      {t:'Impulsivo e emotivo',z:'adattivo'},
      {t:'Cerca armonia e cortesia',z:'divergente'},
      {t:'Supporta e aiuta',z:'divergente'},
      {t:'Vuole essere rassicurato',z:'divergente'},
      {t:'Accuratezza e controllo',z:'assimilativo'},
      {t:'Metodico e organizzato',z:'assimilativo'},
      {t:'Vuole dati e spazio per analizzarli',z:'assimilativo'},
      {t:'Controllo dei risultati',z:'convergente'},
      {t:'Efficiente e diretto',z:'convergente'},
      {t:'Va dritto allo scopo',z:'convergente'}
    ]
  },
  {
    id:'assi',t:'3. Gli Assi',lay:'grid',
    hint:'Associa ogni concetto all\'<strong>asse del modello</strong> corretto.',
    zones:[
      {id:'ec',label:'Esperienza Concreta',c:'dz-1'},
      {id:'or',label:'Osservazione Riflessiva',c:'dz-2'},
      {id:'ca',label:'Concettualizzazione Astratta',c:'dz-3'},
      {id:'sa',label:'Sperimentazione Attiva',c:'dz-4'}
    ],
    items:[
      {t:'Percepire',z:'ec'},{t:'Relazioni',z:'ec'},{t:'Percorso intuitivo',z:'ec'},
      {t:'Osservare',z:'or'},{t:'Ascolto e Analisi',z:'or'},{t:'Tanti dettagli per un concetto',z:'or'},
      {t:'Pensare',z:'ca'},{t:'Contenuti',z:'ca'},{t:'Percorso analitico',z:'ca'},
      {t:'Fare',z:'sa'},{t:'Azione',z:'sa'},{t:'Poche parole per un concetto',z:'sa'}
    ]
  },
  {
    id:'bisogni',t:'4. Bisogni',lay:'grid',
    hint:'Abbina ciascun <strong>bisogno</strong> allo stile corrispondente.',
    zones:[
      {id:'adattivo',label:'Adattivo (Accomodatore)',c:'dz-1'},
      {id:'divergente',label:'Divergente',c:'dz-2'},
      {id:'assimilativo',label:'Assimilativo',c:'dz-3'},
      {id:'convergente',label:'Convergente',c:'dz-4'}
    ],
    items:[
      {t:'Visione d\'insieme',z:'adattivo'},{t:'Soluzioni consensuali',z:'adattivo'},{t:'Coinvolgimento',z:'adattivo'},
      {t:'Rassicurazione sulle scelte',z:'divergente'},{t:'Comprensione della prospettiva',z:'divergente'},{t:'Mettere a proprio agio',z:'divergente'},
      {t:'Informazioni dettagliate',z:'assimilativo'},{t:'Tempo per analizzare',z:'assimilativo'},{t:'Presidio dei processi',z:'assimilativo'},
      {t:'Efficienza nei risultati',z:'convergente'},{t:'Coerenza negli atteggiamenti',z:'convergente'},{t:'VelocitÃ  d\'azione',z:'convergente'}
    ]
  },
  {
    id:'forze',t:'5. Punti di Forza',lay:'grid',
    hint:'Associa ciascun <strong>punto di forza</strong> allo stile corretto.',
    zones:[
      {id:'adattivo',label:'Adattivo (Accomodatore)',c:'dz-1'},
      {id:'divergente',label:'Divergente',c:'dz-2'},
      {id:'assimilativo',label:'Assimilativo',c:'dz-3'},
      {id:'convergente',label:'Convergente',c:'dz-4'}
    ],
    items:[
      {t:'Persuasione',z:'adattivo'},{t:'Intrattenimento',z:'adattivo'},{t:'Diffusione',z:'adattivo'},
      {t:'Ascolto',z:'divergente'},{t:'Teamwork',z:'divergente'},{t:'Esecuzione',z:'divergente'},
      {t:'Pianificazione',z:'assimilativo'},{t:'Sistematizzazione',z:'assimilativo'},{t:'Orchestrazione',z:'assimilativo'},
      {t:'Leadership',z:'convergente'},{t:'Iniziativa e organizzazione',z:'convergente'},{t:'Efficienza e risultati',z:'convergente'}
    ]
  },
  {
    id:'centri',t:'6. Centri di Interesse',lay:'grid',
    hint:'Associa ciascun <strong>centro di interesse</strong> allo stile corretto.',
    zones:[
      {id:'adattivo',label:'Adattivo (Accomodatore)',c:'dz-1'},
      {id:'divergente',label:'Divergente',c:'dz-2'},
      {id:'assimilativo',label:'Assimilativo',c:'dz-3'},
      {id:'convergente',label:'Convergente',c:'dz-4'}
    ],
    items:[
      {t:'Opinioni personali',z:'adattivo'},{t:'Casi pratici',z:'adattivo'},{t:'Immagini accattivanti',z:'adattivo'},
      {t:'Persona al centro',z:'divergente'},{t:'Sicurezza e affidabilitÃ ',z:'divergente'},{t:'Condivisione degli esperti',z:'divergente'},
      {t:'Accuratezza nei razionali',z:'assimilativo'},{t:'Numero e qualitÃ  dei dati',z:'assimilativo'},
      {t:'Risultati di efficacia',z:'convergente'},{t:'VelocitÃ  d\'azione',z:'convergente'},{t:'Principali vantaggi d\'uso',z:'convergente'}
    ]
  },
  {
    id:'stress',t:'7. Sotto Stress',lay:'grid',
    hint:'Come reagisce ogni stile <strong>sotto stress</strong>?',
    zones:[
      {id:'adattivo',label:'Adattivo (Accomodatore)',c:'dz-1'},
      {id:'divergente',label:'Divergente',c:'dz-2'},
      {id:'assimilativo',label:'Assimilativo',c:'dz-3'},
      {id:'convergente',label:'Convergente',c:'dz-4'}
    ],
    items:[
      {t:'Diventa impulsivo',z:'adattivo'},{t:'Poco selettivo',z:'adattivo'},
      {t:'Diventa sedentario e rigido',z:'divergente'},{t:'Eccesso di sensibilitÃ ',z:'divergente'},
      {t:'Diventa rigido e critico',z:'assimilativo'},{t:'Perfezionismo eccessivo',z:'assimilativo'},
      {t:'Diventa direttivo',z:'convergente'},{t:'Arrogante e spietato',z:'convergente'}
    ]
  }
];

let cur=0,score=0,done=new Set();

/* â”€â”€ RENDER â”€â”€ */
function bar(){
  document.getElementById('levelBar').innerHTML=L.map((l,i)=>`<button class="lvl${i===cur?' on':''}" onclick="go(${i})">${l.t}${done.has(i)?'<span class="ck">âœ“</span>':''}</button>`).join('');
  document.getElementById('lt').textContent=L.length;
  document.getElementById('lc').textContent=done.size;
}

function dzHTML(z){
  const ico=z.num?`<span class="dz-num">${z.num}</span>`:`<span class="dz-dot"></span>`;
  return`<div class="dz ${z.c}" data-z="${z.id}" ondragover="dOver(event)" ondragleave="dLeave(event)" ondrop="dDrop(event)"><div class="dz-head">${ico}<span class="dz-label">${z.label}</span></div><div class="dz-items"></div></div>`;
}

function render(){
  const lv=L[cur],el=document.getElementById('app');
  const sh=[...lv.items].sort(()=>Math.random()-.5);
  let zones='';
  if(lv.lay==='compass'){
    const p={};lv.zones.forEach(z=>p[z.pos]=z);
    zones=`<div class="compass">
      <div class="compass-top">${dzHTML(p.top)}</div>
      <div class="compass-left">${dzHTML(p.left)}</div>
      <div class="compass-hub">
        <span class="hub-t hub-n">Percepire</span>
        <span class="hub-t hub-s">Pensare</span>
        <span class="hub-t hub-w">Fare</span>
        <span class="hub-t hub-e">Osservare</span>
        <span class="hub-arrow hub-a1">â†—</span>
        <span class="hub-arrow hub-a2">â†—</span>
      </div>
      <div class="compass-right">${dzHTML(p.right)}</div>
      <div class="compass-bot">${dzHTML(p.bot)}</div>
    </div>`;
  }else{
    zones=`<div class="grid4">${lv.zones.map(z=>dzHTML(z)).join('')}</div>`;
  }
  el.innerHTML=`<div class="hint">${lv.hint}</div>${zones}<div class="bank"><div class="bank-label">Trascina le parole â†‘</div><div class="bank-items" id="wb" ondragover="dOver(event)" ondragleave="dLeave(event)" ondrop="dBank(event)">${sh.map((it,i)=>`<div class="chip" draggable="true" data-ok="${it.z}" data-i="${i}" ondragstart="ds(event)" ondragend="de(event)">${it.t}</div>`).join('')}</div></div><div class="btns"><button class="bt bt-rs" onclick="reset()">â†º Ricomincia</button><button class="bt bt-go" onclick="check()">Verifica âœ“</button></div><div class="fb" id="fb"></div>`;
  touch();upd();
}

/* â”€â”€ DRAG MOUSE â”€â”€ */
let D=null;
function ds(e){D=e.target;D.classList.add('dragging');e.dataTransfer.effectAllowed='move';e.dataTransfer.setData('text/plain','')}
function de(e){e.target.classList.remove('dragging');D=null;document.querySelectorAll('.dz').forEach(z=>z.classList.remove('over'))}
function dOver(e){e.preventDefault();const z=e.target.closest('.dz');if(z)z.classList.add('over')}
function dLeave(e){const z=e.target.closest('.dz');if(z)z.classList.remove('over')}
function dDrop(e){e.preventDefault();const z=e.target.closest('.dz');if(!z||!D||D.classList.contains('ok'))return;z.classList.remove('over');z.querySelector('.dz-items').appendChild(D);D.classList.remove('err')}
function dBank(e){e.preventDefault();if(!D||D.classList.contains('ok'))return;document.getElementById('wb').appendChild(D);D.classList.remove('err')}

/* â”€â”€ TOUCH â”€â”€ */
let TI=null,G=null,ox=0,oy=0;
function touch(){document.querySelectorAll('.chip').forEach(el=>{el.addEventListener('touchstart',ts,{passive:false});el.addEventListener('touchmove',tm,{passive:false});el.addEventListener('touchend',te,{passive:false})})}
function ts(e){if(e.target.classList.contains('ok'))return;e.preventDefault();TI=e.target.closest('.chip');if(!TI)return;const t=e.touches[0],r=TI.getBoundingClientRect();ox=t.clientX-r.left;oy=t.clientY-r.top;G=TI.cloneNode(true);G.className='chip ghost';G.style.width=r.width+'px';G.style.left=(t.clientX-ox)+'px';G.style.top=(t.clientY-oy)+'px';document.body.appendChild(G);TI.classList.add('dragging')}
function tm(e){if(!TI||!G)return;e.preventDefault();const t=e.touches[0];G.style.left=(t.clientX-ox)+'px';G.style.top=(t.clientY-oy)+'px';document.querySelectorAll('.dz').forEach(z=>z.classList.remove('over'));const el=document.elementFromPoint(t.clientX,t.clientY);if(el){const z=el.closest('.dz');if(z)z.classList.add('over')}}
function te(e){if(!TI||!G)return;e.preventDefault();const t=e.changedTouches[0];G.remove();G=null;TI.classList.remove('dragging');document.querySelectorAll('.dz').forEach(z=>z.classList.remove('over'));const el=document.elementFromPoint(t.clientX,t.clientY);if(el){const z=el.closest('.dz');if(z&&!TI.classList.contains('ok')){TI.classList.remove('err');z.querySelector('.dz-items').appendChild(TI)}else if(!TI.classList.contains('ok')){document.getElementById('wb').appendChild(TI);TI.classList.remove('err')}}TI=null}

/* â”€â”€ CHECK â”€â”€ */
function check(){
  let ok=0,n=0;
  const bk=document.querySelectorAll('#wb .chip:not(.ok)');
  document.querySelectorAll('.dz').forEach(z=>{
    const zid=z.dataset.z;
    z.querySelectorAll('.chip:not(.ok)').forEach(c=>{
      n++;
      if(c.dataset.ok===zid){c.classList.add('ok');c.classList.remove('err');c.draggable=false;ok++;score++}
      else{c.classList.add('err');setTimeout(()=>{c.classList.remove('err');document.getElementById('wb').appendChild(c)},1100)}
    });
  });
  if(bk.length>0&&n===0){fb('Posiziona tutte le parole prima di verificare!','try');return}
  const rem=document.querySelectorAll('.chip:not(.ok)').length;
  if(rem===0){done.add(cur);fb('ðŸŽ‰ Perfetto! Livello completato!','win');bar()}
  else if(ok>0)fb(`${ok} corrette! Le altre tornano nel banco.`,'try');
  else if(n>0)fb('Nessuna corretta. Riprova con calma!','try');
  upd();
}
function fb(m,c){const f=document.getElementById('fb');f.textContent=m;f.className=`fb show ${c}`}
function upd(){document.getElementById('sc').textContent=score;document.getElementById('tot').textContent=L.reduce((s,l)=>s+l.items.length,0)}
function go(i){cur=i;bar();render()}
function reset(){score-=document.querySelectorAll('.chip.ok').length;if(score<0)score=0;done.delete(cur);bar();render()}

bar();render();
</script>
</body>
</html>